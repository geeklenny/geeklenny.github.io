---
title: c++11条件变量
comments: false
date: 2016-12-20 16:11:20
tags:
  - 程序设计
  - c++11
  - 条件变量
categories:
  - 程序设计
  - c++11
---

　　写了个条件变量的小程序。感觉还是挺方便的。
<!--more-->
```cpp
#include <iostream>
#include <map>
#include <thread>
#include <mutex>
#include <condition_variable>
#include <chrono>

using namespace std;

mutex m_mtxCv;

condition_variable m_Cv;
void print()
{
                while(true)
                {
                                unique_lock<mutex> lk(m_mtxCv);
                                cout << " 1 " << endl;
                                m_Cv.wait_for(lk,chrono::milliseconds(5000));
                                cout << " 2 " << endl;
		            }
}

int main()
{
                thread t(print);
	              while(true)
                {        
		                            cin.get();
		                            m_Cv.notify_one();
	              }
		            return 0;
}
```

编译
> c++ test.cc -std=c++11 -lpthread
